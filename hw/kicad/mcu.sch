EESchema Schematic File Version 2
LIBS:74xgxx
LIBS:74xx
LIBS:ac-dc
LIBS:actel
LIBS:adc-dac
LIBS:Altera
LIBS:analog_devices
LIBS:analog_switches
LIBS:atmel
LIBS:audio
LIBS:brooktre
LIBS:cmos_ieee
LIBS:cmos4000
LIBS:conn
LIBS:contrib
LIBS:cypress
LIBS:dc-dc
LIBS:device
LIBS:digital-audio
LIBS:display
LIBS:dsp
LIBS:elec-unifil
LIBS:ESD_Protection
LIBS:ftdi
LIBS:gennum
LIBS:graphic
LIBS:hc11
LIBS:intel
LIBS:interface
LIBS:ir
LIBS:Lattice
LIBS:linear
LIBS:logo
LIBS:maxim
LIBS:memory
LIBS:microchip_dspic33dsc
LIBS:microchip_pic10mcu
LIBS:microchip_pic12mcu
LIBS:microchip_pic16mcu
LIBS:microchip_pic18mcu
LIBS:microchip_pic32mcu
LIBS:microchip
LIBS:microcontrollers
LIBS:motor_drivers
LIBS:motorola
LIBS:msp430
LIBS:nordicsemi
LIBS:nxp_armmcu
LIBS:onsemi
LIBS:opto
LIBS:Oscillators
LIBS:philips
LIBS:Power_Management
LIBS:power
LIBS:powerint
LIBS:pspice
LIBS:references
LIBS:regul
LIBS:relays
LIBS:rfcom
LIBS:sensors
LIBS:silabs
LIBS:siliconi
LIBS:stm8
LIBS:stm32
LIBS:supertex
LIBS:switches
LIBS:texas
LIBS:transf
LIBS:transistors
LIBS:ttl_ieee
LIBS:valves
LIBS:video
LIBS:Xicor
LIBS:xilinx
LIBS:Zilog
LIBS:drv8301
LIBS:MotCtrl-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 3
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L C C?
U 1 1 58154161
P 10800 5800
F 0 "C?" H 10825 5900 50  0000 L CNN
F 1 "4u7" H 10825 5700 50  0000 L CNN
F 2 "" H 10838 5650 30  0000 C CNN
F 3 "" H 10800 5800 60  0000 C CNN
	1    10800 5800
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 58154168
P 10550 5800
F 0 "C?" H 10575 5900 50  0000 L CNN
F 1 "100n" H 10575 5700 50  0000 L CNN
F 2 "" H 10588 5650 30  0000 C CNN
F 3 "" H 10550 5800 60  0000 C CNN
	1    10550 5800
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 5815416F
P 10300 5800
F 0 "C?" H 10325 5900 50  0000 L CNN
F 1 "100n" H 10325 5700 50  0000 L CNN
F 2 "" H 10338 5650 30  0000 C CNN
F 3 "" H 10300 5800 60  0000 C CNN
	1    10300 5800
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 58154176
P 10050 5800
F 0 "C?" H 10075 5900 50  0000 L CNN
F 1 "100n" H 10075 5700 50  0000 L CNN
F 2 "" H 10088 5650 30  0000 C CNN
F 3 "" H 10050 5800 60  0000 C CNN
	1    10050 5800
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 58154183
P 9800 5800
F 0 "C?" H 9825 5900 50  0000 L CNN
F 1 "100n" H 9825 5700 50  0000 L CNN
F 2 "" H 9838 5650 30  0000 C CNN
F 3 "" H 9800 5800 60  0000 C CNN
	1    9800 5800
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 58154192
P 9150 5800
F 0 "C?" H 9175 5900 50  0000 L CNN
F 1 "2u2" H 9175 5700 50  0000 L CNN
F 2 "" H 9188 5650 30  0000 C CNN
F 3 "" H 9150 5800 60  0000 C CNN
	1    9150 5800
	1    0    0    -1  
$EndComp
$Comp
L STM32F446R(C-E)Tx U?
U 1 1 5815419F
P 7250 3500
F 0 "U?" H 7250 3600 50  0000 C CNN
F 1 "STM32F446R(C-E)Tx" H 7250 3400 50  0000 C CNN
F 2 "LQFP64" H 7250 3300 50  0000 C CIN
F 3 "" H 7250 3500 50  0000 C CNN
	1    7250 3500
	1    0    0    -1  
$EndComp
$Comp
L GNDD #PWR?
U 1 1 5815B00C
P 10800 6100
F 0 "#PWR?" H 10800 5850 50  0001 C CNN
F 1 "GNDD" H 10800 5950 50  0000 C CNN
F 2 "" H 10800 6100 60  0000 C CNN
F 3 "" H 10800 6100 60  0000 C CNN
	1    10800 6100
	1    0    0    -1  
$EndComp
$Comp
L GNDD #PWR?
U 1 1 5815B06C
P 9150 5150
F 0 "#PWR?" H 9150 4900 50  0001 C CNN
F 1 "GNDD" H 9150 5000 50  0000 C CNN
F 2 "" H 9150 5150 60  0000 C CNN
F 3 "" H 9150 5150 60  0000 C CNN
	1    9150 5150
	1    0    0    -1  
$EndComp
$Comp
L GNDD #PWR?
U 1 1 5815B08C
P 9150 6100
F 0 "#PWR?" H 9150 5850 50  0001 C CNN
F 1 "GNDD" H 9150 5950 50  0000 C CNN
F 2 "" H 9150 6100 60  0000 C CNN
F 3 "" H 9150 6100 60  0000 C CNN
	1    9150 6100
	1    0    0    -1  
$EndComp
$Comp
L GNDD #PWR?
U 1 1 5815B0DD
P 9150 2350
F 0 "#PWR?" H 9150 2100 50  0001 C CNN
F 1 "GNDD" H 9150 2200 50  0000 C CNN
F 2 "" H 9150 2350 60  0000 C CNN
F 3 "" H 9150 2350 60  0000 C CNN
	1    9150 2350
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 5815B255
P 10800 5500
F 0 "#PWR?" H 10800 5350 50  0001 C CNN
F 1 "+3.3V" H 10800 5640 50  0000 C CNN
F 2 "" H 10800 5500 60  0000 C CNN
F 3 "" H 10800 5500 60  0000 C CNN
	1    10800 5500
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 5815B2D5
P 9150 3700
F 0 "#PWR?" H 9150 3550 50  0001 C CNN
F 1 "+3.3V" H 9150 3840 50  0000 C CNN
F 2 "" H 9150 3700 60  0000 C CNN
F 3 "" H 9150 3700 60  0000 C CNN
	1    9150 3700
	1    0    0    -1  
$EndComp
Text HLabel 2050 3850 0    60   Output ~ 0
SPI_CLK
Text HLabel 2050 3650 0    60   Output ~ 0
SPI_MOSI
Text HLabel 2050 3750 0    60   Input ~ 0
SPI_MISO
Text HLabel 2050 3550 0    60   Output ~ 0
SPI_CS
Text HLabel 2050 3950 0    60   Output ~ 0
DC_CAL
Text HLabel 2050 5050 0    60   Input ~ 0
nOCTW
Text HLabel 2050 5150 0    60   Input ~ 0
nFAULT
Text HLabel 4700 2100 0    60   Output ~ 0
PWM_H_A
Text HLabel 4700 3600 0    60   Output ~ 0
PWM_L_A
Text HLabel 4700 2200 0    60   Output ~ 0
PWM_H_B
Text HLabel 4700 3700 0    60   Output ~ 0
PWM_L_B
Text HLabel 4700 2300 0    60   Output ~ 0
PWM_H_C
Text HLabel 4700 3800 0    60   Output ~ 0
PWM_L_C
Text HLabel 2050 4150 0    60   Output ~ 0
EN_GATE
Text HLabel 9550 4400 2    60   Output ~ 0
I_SENS_V_REF
Text HLabel 2600 2000 0    60   Input ~ 0
I_SENS_A
Text HLabel 2600 2200 0    60   Input ~ 0
I_SENS_B
$Comp
L C C?
U 1 1 581726B3
P 9350 4600
F 0 "C?" H 9375 4700 50  0000 L CNN
F 1 "100n" H 9375 4500 50  0000 L CNN
F 2 "" H 9388 4450 30  0000 C CNN
F 3 "" H 9350 4600 60  0000 C CNN
	1    9350 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	9150 2300 9000 2300
Wire Wire Line
	9800 6000 9800 5950
Wire Wire Line
	9800 6000 10800 6000
Wire Wire Line
	9800 5600 9800 5650
Wire Wire Line
	9800 5600 10800 5600
Connection ~ 9150 4700
Wire Wire Line
	9000 4700 9150 4700
Connection ~ 9150 4800
Wire Wire Line
	9150 4800 9000 4800
Connection ~ 9150 4900
Wire Wire Line
	9150 4600 9150 5150
Wire Wire Line
	9000 4600 9150 4600
Connection ~ 9150 3800
Connection ~ 9150 3900
Wire Wire Line
	9150 3900 9000 3900
Connection ~ 9150 4000
Wire Wire Line
	9150 4000 9000 4000
Connection ~ 9150 4100
Wire Wire Line
	9150 4100 9000 4100
Wire Wire Line
	9150 4200 9000 4200
Wire Wire Line
	9150 3700 9150 4400
Wire Wire Line
	9000 3800 9150 3800
Connection ~ 10800 5600
Connection ~ 10800 6000
Connection ~ 10550 5600
Wire Wire Line
	10550 5650 10550 5600
Connection ~ 10550 6000
Wire Wire Line
	10550 5950 10550 6000
Connection ~ 10300 6000
Wire Wire Line
	10300 5950 10300 6000
Connection ~ 10300 5600
Wire Wire Line
	10300 5650 10300 5600
Connection ~ 10050 5600
Wire Wire Line
	10050 5650 10050 5600
Connection ~ 10050 6000
Wire Wire Line
	10050 5950 10050 6000
Wire Wire Line
	10800 5950 10800 6100
Wire Wire Line
	10800 5500 10800 5650
Wire Wire Line
	9150 5600 9000 5600
Wire Wire Line
	9150 5650 9150 5600
$Comp
L GNDD #PWR?
U 1 1 58172AAB
P 9350 4750
F 0 "#PWR?" H 9350 4500 50  0001 C CNN
F 1 "GNDD" H 9350 4600 50  0000 C CNN
F 2 "" H 9350 4750 60  0000 C CNN
F 3 "" H 9350 4750 60  0000 C CNN
	1    9350 4750
	1    0    0    -1  
$EndComp
Wire Wire Line
	9350 4750 9350 4750
Wire Wire Line
	9150 5100 9000 5100
Connection ~ 9150 5100
Wire Wire Line
	9150 4900 9000 4900
Wire Wire Line
	9000 4400 9550 4400
Connection ~ 9150 4200
Wire Wire Line
	9350 4400 9350 4450
Connection ~ 9150 4400
Connection ~ 9350 4400
$Comp
L CONN_01X05 P?
U 1 1 581756C8
P 10550 1400
F 0 "P?" H 10550 1700 50  0000 C CNN
F 1 "CONN_01X05" V 10650 1400 50  0000 C CNN
F 2 "" H 10550 1400 60  0000 C CNN
F 3 "" H 10550 1400 60  0000 C CNN
	1    10550 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	9000 1300 10350 1300
$Comp
L +3.3V #PWR?
U 1 1 58175A3D
P 10250 950
F 0 "#PWR?" H 10250 800 50  0001 C CNN
F 1 "+3.3V" H 10250 1090 50  0000 C CNN
F 2 "" H 10250 950 60  0000 C CNN
F 3 "" H 10250 950 60  0000 C CNN
	1    10250 950 
	1    0    0    -1  
$EndComp
$Comp
L GNDD #PWR?
U 1 1 58175AAB
P 10250 1700
F 0 "#PWR?" H 10250 1450 50  0001 C CNN
F 1 "GNDD" H 10250 1550 50  0000 C CNN
F 2 "" H 10250 1700 60  0000 C CNN
F 3 "" H 10250 1700 60  0000 C CNN
	1    10250 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	10350 1200 10250 1200
Wire Wire Line
	10250 1200 10250 950 
Wire Wire Line
	10350 1600 9700 1600
Wire Wire Line
	10250 1700 10250 1400
Wire Wire Line
	10250 1400 10350 1400
$Comp
L C C?
U 1 1 58175FE0
P 9700 2100
F 0 "C?" H 9725 2200 50  0000 L CNN
F 1 "100n" H 9725 2000 50  0000 L CNN
F 2 "" H 9738 1950 30  0000 C CNN
F 3 "" H 9700 2100 60  0000 C CNN
	1    9700 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	9700 1600 9700 1950
Connection ~ 9700 1900
$Comp
L GNDD #PWR?
U 1 1 5817651C
P 9700 2350
F 0 "#PWR?" H 9700 2100 50  0001 C CNN
F 1 "GNDD" H 9700 2200 50  0000 C CNN
F 2 "" H 9700 2350 60  0000 C CNN
F 3 "" H 9700 2350 60  0000 C CNN
	1    9700 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	9700 2350 9700 2250
Wire Wire Line
	9150 2350 9150 2300
Wire Wire Line
	9700 1900 9000 1900
Wire Wire Line
	9700 1500 10350 1500
Wire Wire Line
	9000 1400 9700 1400
Wire Wire Line
	9700 1400 9700 1500
$Comp
L Crystal Y?
U 1 1 5817878B
P 9300 3100
F 0 "Y?" H 9300 3250 50  0000 C CNN
F 1 "16 MHz" H 9300 2950 50  0000 C CNN
F 2 "" H 9300 3100 60  0000 C CNN
F 3 "" H 9300 3100 60  0000 C CNN
	1    9300 3100
	-1   0    0    1   
$EndComp
Wire Wire Line
	9000 3300 9100 3300
Wire Wire Line
	9100 3300 9100 3100
Wire Wire Line
	9100 3100 9150 3100
Wire Wire Line
	9000 3400 9500 3400
Wire Wire Line
	9500 3400 9500 3100
Wire Wire Line
	9500 3100 9450 3100
Text Notes 9550 3250 0    60   ~ 0
C load = 9 pF
$Comp
L R R?
U 1 1 5817C985
P 2350 4800
F 0 "R?" V 2430 4800 50  0000 C CNN
F 1 "10k" V 2350 4800 50  0000 C CNN
F 2 "" V 2280 4800 30  0000 C CNN
F 3 "" H 2350 4800 30  0000 C CNN
	1    2350 4800
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 5817C9F2
P 2550 4800
F 0 "R?" V 2630 4800 50  0000 C CNN
F 1 "10k" V 2550 4800 50  0000 C CNN
F 2 "" V 2480 4800 30  0000 C CNN
F 3 "" H 2550 4800 30  0000 C CNN
	1    2550 4800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2050 5050 2350 5050
Wire Wire Line
	2350 5050 2350 4950
Wire Wire Line
	2050 5150 2550 5150
Wire Wire Line
	2550 5150 2550 4950
$Comp
L +3.3V #PWR?
U 1 1 5817CBD9
P 2350 4500
F 0 "#PWR?" H 2350 4350 50  0001 C CNN
F 1 "+3.3V" H 2350 4640 50  0000 C CNN
F 2 "" H 2350 4500 60  0000 C CNN
F 3 "" H 2350 4500 60  0000 C CNN
	1    2350 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 4500 2350 4650
Wire Wire Line
	2350 4600 2550 4600
Wire Wire Line
	2550 4600 2550 4650
Connection ~ 2350 4600
$Comp
L R R?
U 1 1 5817D266
P 2900 2200
F 0 "R?" V 2980 2200 50  0000 C CNN
F 1 "R" V 2900 2200 50  0000 C CNN
F 2 "" V 2830 2200 30  0000 C CNN
F 3 "" H 2900 2200 30  0000 C CNN
	1    2900 2200
	0    1    1    0   
$EndComp
$Comp
L C C?
U 1 1 5817D2BF
P 3150 2450
F 0 "C?" H 3175 2550 50  0000 L CNN
F 1 "C" H 3175 2350 50  0000 L CNN
F 2 "" H 3188 2300 30  0000 C CNN
F 3 "" H 3150 2450 60  0000 C CNN
	1    3150 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2600 2200 2750 2200
Wire Wire Line
	3050 2200 3150 2200
Wire Wire Line
	3150 2200 3150 2300
$Comp
L GNDD #PWR?
U 1 1 5817D404
P 3150 2700
F 0 "#PWR?" H 3150 2450 50  0001 C CNN
F 1 "GNDD" H 3150 2550 50  0000 C CNN
F 2 "" H 3150 2700 60  0000 C CNN
F 3 "" H 3150 2700 60  0000 C CNN
	1    3150 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 2700 3150 2600
$Comp
L R R?
U 1 1 5817D4F7
P 2900 2000
F 0 "R?" V 2980 2000 50  0000 C CNN
F 1 "R" V 2900 2000 50  0000 C CNN
F 2 "" V 2830 2000 30  0000 C CNN
F 3 "" H 2900 2000 30  0000 C CNN
	1    2900 2000
	0    1    1    0   
$EndComp
Wire Wire Line
	2600 2000 2750 2000
$Comp
L C C?
U 1 1 5817D614
P 3450 2450
F 0 "C?" H 3475 2550 50  0000 L CNN
F 1 "C" H 3475 2350 50  0000 L CNN
F 2 "" H 3488 2300 30  0000 C CNN
F 3 "" H 3450 2450 60  0000 C CNN
	1    3450 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 2000 3450 2300
Wire Wire Line
	3050 2000 3450 2000
$Comp
L GNDD #PWR?
U 1 1 5817D6CF
P 3450 2700
F 0 "#PWR?" H 3450 2450 50  0001 C CNN
F 1 "GNDD" H 3450 2550 50  0000 C CNN
F 2 "" H 3450 2700 60  0000 C CNN
F 3 "" H 3450 2700 60  0000 C CNN
	1    3450 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 2700 3450 2600
Wire Wire Line
	9150 6100 9150 5950
$Comp
L D_Schottky D?
U 1 1 581D97AA
P 2950 1100
F 0 "D?" H 2950 1200 50  0000 C CNN
F 1 "D_Schottky" H 2950 1000 50  0000 C CNN
F 2 "" H 2950 1100 60  0000 C CNN
F 3 "" H 2950 1100 60  0000 C CNN
	1    2950 1100
	0    1    1    0   
$EndComp
Text HLabel 2600 1350 0    60   Input ~ 0
V_EMF_SENSE_A
Text HLabel 2600 1550 0    60   Input ~ 0
V_EMF_SENSE_B
Text HLabel 2600 1750 0    60   Input ~ 0
V_EMF_SENSE_C
$Comp
L +3.3V #PWR?
U 1 1 581DD72E
P 2950 750
F 0 "#PWR?" H 2950 600 50  0001 C CNN
F 1 "+3.3V" H 2950 890 50  0000 C CNN
F 2 "" H 2950 750 60  0000 C CNN
F 3 "" H 2950 750 60  0000 C CNN
	1    2950 750 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2950 750  2950 950 
Wire Wire Line
	2600 1350 2950 1350
Wire Wire Line
	2950 1350 2950 1250
$Comp
L D_Schottky D?
U 1 1 581DDA64
P 3250 1100
F 0 "D?" H 3250 1200 50  0000 C CNN
F 1 "D_Schottky" H 3250 1000 50  0000 C CNN
F 2 "" H 3250 1100 60  0000 C CNN
F 3 "" H 3250 1100 60  0000 C CNN
	1    3250 1100
	0    1    1    0   
$EndComp
Wire Wire Line
	2600 1550 3250 1550
Wire Wire Line
	3250 1550 3250 1250
$Comp
L D_Schottky D?
U 1 1 581DDBB5
P 3550 1100
F 0 "D?" H 3550 1200 50  0000 C CNN
F 1 "D_Schottky" H 3550 1000 50  0000 C CNN
F 2 "" H 3550 1100 60  0000 C CNN
F 3 "" H 3550 1100 60  0000 C CNN
	1    3550 1100
	0    1    1    0   
$EndComp
Wire Wire Line
	2600 1750 3550 1750
Wire Wire Line
	3550 1750 3550 1250
Wire Wire Line
	2950 850  3550 850 
Wire Wire Line
	3550 850  3550 950 
Connection ~ 2950 850 
Wire Wire Line
	3250 950  3250 850 
Connection ~ 3250 850 
$EndSCHEMATC
